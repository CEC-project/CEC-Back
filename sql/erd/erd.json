{"source":{"format":"dbml","text":"// https://nomadrazor.github.io/dbdiagram-oss-wrep/editor 에서 그림으로 볼수 있음.\n// json 으로 위치 정보까지 export import 가능\n\nTable users {\n  id bigint [primary key]\n  name varchar\n  student_number varchar\n  nickname varchar\n  grade varchar\n  group varchar\n  gender varchar\n  professor varchar\n  phone_number varchar\n  email varchar\n  password varchar\n  profile_picture varchar\n  birth_date date\n  restriction_count int\n  report_count int\n  role varchar\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable classroom {\n  id bigint [primary key]\n  name varchar\n  location varchar\n  status varchar\n  available boolean\n  attachment varchar\n  manager_id bigint\n  start_time time\n  end_time time\n  renter_id bigint\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable semester {\n  id bigint [primary key]\n  name varchar(20)\n  year int\n  start_date date\n  end_date date\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable semester_schedule {\n  id int [primary key]\n  classroom_id bigint\n  semester_id int\n  year int\n  day varchar\n  name varchar(20)\n  start_at time\n  end_at time\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable rental {\n  rental_id bigint [primary key]\n  equipment_id bigint\n  classroom_id bigint\n  type varchar\n  user_id bigint\n  status varchar\n  start_at timestamp\n  end_at timestamp\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable repair {\n  rental_id bigint [primary key]\n  equipment_id bigint\n  classroom_id bigint\n  type varchar\n  user_id bigint\n  status varchar\n  start_at timestamp\n  end_at timestamp\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable notice {\n  id bigint [primary key]\n  title varchar\n  content text\n  important bool\n  author_id bigint\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable notification {\n  id bigint [primary key]\n  type varchar\n  content text\n  author_id bigint\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable community {\n  id bigint [primary key]\n  title varchar\n  nickname varchar\n  author_id bigint\n  community_type_id bigint\n  recommand int\n  view int\n  type varchar\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable community_type {\n  id bigint [primary key]\n  name varchar\n  description varchar\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable inquiry {\n  id bigint [primary key]\n  title varchar\n  content text\n  secret bool\n  author_id bigint\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable inquiry_type {\n  id bigint [primary key]\n  name varchar\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable inquiry_inquiry_type {\n  inquiry_id bigint [primary key]\n  inquiry_type_id bigint [primary key]\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable equipment {\n  id bigint [primary key]\n  name varchar\n  model_name varchar\n  status varchar\n  available boolean\n  description text\n  attachment varchar\n  manager_id bigint\n  rental_status varchar\n  renter_id bigint\n  model_id bigint\n  category_id bigint\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable equipment_model {\n  id bigint [primary key]\n  name varchar\n  english_code varchar\n  category_id bigint\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable equipment_category {\n  id bigint [primary key]\n  name varchar\n  max_rental_count int\n  english_code varchar\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable year_schedule {\n  id bigint [primary key]\n  classroom_id bigint [null]\n  date date\n  is_holiday boolean\n  description varchar(20)\n  start_at time\n  end_at time\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable rental_restriction {\n  id int [primary key]\n  user_id int\n  type varchar\n  reason varchar\n  end_at timestamp\n  created_at timestamp\n  updated_at timestamp\n}\n\nTable inquiry_response {\n  id int [primary key]\n  inquiry_id int\n  responder_id int\n  content varchar(1000)\n  attachment_url varchar(200)\n  created_at timestamp\n  updated_at timestamp\n}\n\nTableGroup equipment_group {\n  equipment\n  equipment_category\n  equipment_model\n}\n\nTableGroup inquiry_group {\n  inquiry\n  inquiry_inquiry_type\n  inquiry_type\n  inquiry_response\n}\n\nTableGroup community_group {\n  community\n  community_type\n}\n\nTableGroup classroom_group {\n  classroom\n  semester_schedule\n  semester\n  year_schedule\n}\n\nRef: \"classroom\".\"renter_id\" > \"users\".\"id\"\nRef: \"equipment\".\"renter_id\" > \"users\".\"id\"\nRef: \"notice\".\"author_id\" > \"users\".\"id\"\nRef: \"notification\".\"author_id\" > \"users\".\"id\"\nRef: \"inquiry\".\"author_id\" > \"users\".\"id\"\nRef: \"inquiry_inquiry_type\".\"inquiry_id\" > \"inquiry\".\"id\"\nRef: \"inquiry_inquiry_type\".\"inquiry_type_id\" > \"inquiry_type\".\"id\"\nRef: \"community\".\"author_id\" > \"users\".\"id\"\nRef: \"community\".\"community_type_id\" > \"community_type\".\"id\"\nRef: \"equipment_category\".\"id\" < \"equipment\".\"category_id\"\nRef: \"equipment_model\".\"category_id\" > \"equipment_category\".\"id\"\nRef: \"equipment\".\"model_id\" > \"equipment_model\".\"id\"\nRef: \"rental\".\"equipment_id\" > \"equipment\".\"id\"\nRef: \"rental\".\"classroom_id\" > \"classroom\".\"id\"\nRef: \"rental\".\"user_id\" > \"users\".\"id\"\nRef: \"repair\".\"equipment_id\" > \"equipment\".\"id\"\nRef: \"repair\".\"classroom_id\" > \"classroom\".\"id\"\nRef: \"repair\".\"user_id\" > \"users\".\"id\"\nRef: \"classroom\".\"manager_id\" > \"users\".\"id\"\nRef: \"equipment\".\"manager_id\" > \"users\".\"id\"\nRef: \"semester_schedule\".\"semester_id\" > \"semester\".\"id\"\nRef: \"semester_schedule\".\"semester_id\" > \"semester_schedule\".\"id\"\nRef: \"semester_schedule\".\"classroom_id\" > \"classroom\".\"id\"\nRef: \"year_schedule\".\"classroom_id\" > \"classroom\".\"id\"\nRef: \"rental_restriction\".\"user_id\" > \"users\".\"id\"\nRef: inquiry_response.inquiry_id > inquiry.id\nRef: inquiry_response.responder_id > users.id","markers":{"selection":{"start":{"offset":128,"line":5,"column":3},"end":{"offset":152,"line":6,"column":1}}}},"preferences":{"dark":true,"theme":"dracula","split":25},"chart":{"zoom":0.47145039410476075,"pan":{"x":-181.50840173033293,"y":11.314809458514276},"ctm":{"a":0.47145039410476075,"b":0,"c":0,"d":0.47145039410476075,"e":488.49159826966707,"f":508.8148094585143,"m11":0.47145039410476075,"m12":0,"m13":0,"m14":0,"m21":0,"m22":0.47145039410476075,"m23":0,"m24":0,"m31":0,"m32":0,"m33":1,"m34":0,"m41":488.49159826966707,"m42":508.8148094585143,"m43":0,"m44":1,"is2D":true,"isIdentity":false},"inverseCtm":{"a":2.121113933734013,"b":0,"c":0,"d":2.121113933734013,"e":-1036.1463356017887,"f":-1079.2541820326715,"m11":2.121113933734013,"m12":0,"m13":0,"m14":0,"m21":0,"m22":2.121113933734013,"m23":0,"m24":0,"m31":0,"m32":0,"m33":1,"m34":0,"m41":-1036.1463356017887,"m42":-1079.2541820326715,"m43":0,"m44":1,"is2D":true,"isIdentity":false},"tables":{"1":{"public.users":{"x":-5,"y":-35,"width":220,"height":575}},"2":{"public.classroom":{"x":900,"y":-45,"width":220,"height":395}},"3":{"public.semester":{"x":1475,"y":-45,"width":220,"height":245}},"4":{"public.semester_schedule":{"x":1190,"y":-45,"width":220,"height":335}},"5":{"public.rental":{"x":280,"y":-155,"width":220,"height":335}},"6":{"public.repair":{"x":560,"y":-155,"width":220,"height":335}},"7":{"public.notice":{"x":-330,"y":375,"width":220,"height":245}},"8":{"public.notification":{"x":-330,"y":110,"width":220,"height":215}},"9":{"public.community":{"x":-330,"y":-280,"width":220,"height":335}},"10":{"public.community_type":{"x":-615,"y":-285,"width":220,"height":185}},"11":{"public.inquiry":{"x":-330,"y":-630,"width":220,"height":245}},"12":{"public.inquiry_type":{"x":-925,"y":-630,"width":220,"height":155}},"13":{"public.inquiry_inquiry_type":{"x":-625,"y":-630,"width":225,"height":155}},"14":{"public.equipment":{"x":895,"y":-625,"width":220,"height":455}},"15":{"public.equipment_model":{"x":1180,"y":-525,"width":220,"height":215}},"16":{"public.equipment_category":{"x":1445,"y":-640,"width":225,"height":215}},"17":{"public.year_schedule":{"x":1190,"y":300,"width":220,"height":305}},"18":{"public.rental_restriction":{"x":-330,"y":670,"width":220,"height":245}},"19":{"public.inquiry_response":{"x":-335,"y":-910,"width":225,"height":245}}},"refs":{"1":{"endpoints":[],"vertices":[{"x":825,"y":275},{"x":825,"y":15}],"auto":false},"2":{"endpoints":[],"vertices":[{"x":825,"y":-305},{"x":825,"y":15}],"auto":false},"3":{"endpoints":[],"vertices":[{"x":-57.5,"y":545},{"x":-57.5,"y":15}],"auto":true},"4":{"endpoints":[],"vertices":[{"x":-57.5,"y":250},{"x":-57.5,"y":15}],"auto":true},"5":{"endpoints":[],"vertices":[{"x":-57.5,"y":-460},{"x":-57.5,"y":15}],"auto":true},"6":{"endpoints":[],"vertices":[{"x":-365,"y":-580},{"x":-365,"y":-580}],"auto":true},"7":{"endpoints":[],"vertices":[{"x":-665,"y":-550},{"x":-665,"y":-580}],"auto":true},"8":{"endpoints":[],"vertices":[{"x":-57.5,"y":-140},{"x":-57.5,"y":15}],"auto":true},"9":{"endpoints":[],"vertices":[{"x":-362.5,"y":-110},{"x":-362.5,"y":-235}],"auto":true},"10":{"endpoints":[],"vertices":[{"x":1280,"y":-590},{"x":1280,"y":-245}],"auto":true},"11":{"endpoints":[],"vertices":[{"x":1422.5,"y":-385},{"x":1422.5,"y":-590}],"auto":true},"12":{"endpoints":[],"vertices":[{"x":1147.5,"y":-275},{"x":1147.5,"y":-475}],"auto":true},"13":{"endpoints":[],"vertices":[{"x":850,"y":-75},{"x":850,"y":-575}],"auto":false},"14":{"endpoints":[],"vertices":[{"x":850,"y":-45},{"x":850,"y":5}],"auto":false},"15":{"endpoints":[],"vertices":[{"x":247.5,"y":15},{"x":247.5,"y":15}],"auto":true},"16":{"endpoints":[],"vertices":[{"x":850,"y":-75},{"x":850,"y":-575}],"auto":false},"17":{"endpoints":[],"vertices":[{"x":850,"y":-45},{"x":850,"y":5}],"auto":false},"18":{"endpoints":[],"vertices":[{"x":387.5,"y":15},{"x":387.5,"y":15}],"auto":true},"19":{"endpoints":[],"vertices":[{"x":825,"y":185},{"x":825,"y":15}],"auto":false},"20":{"endpoints":[],"vertices":[{"x":825,"y":-365},{"x":825,"y":15}],"auto":false},"21":{"endpoints":[],"vertices":[{"x":1442.5,"y":65},{"x":1442.5,"y":5}],"auto":true},"22":{"endpoints":[],"vertices":[{"x":1191,"y":65},{"x":1191,"y":5}],"auto":true},"23":{"endpoints":[],"vertices":[{"x":1155,"y":35},{"x":1155,"y":5}],"auto":true},"24":{"endpoints":[],"vertices":[{"x":1155,"y":380},{"x":1155,"y":5}],"auto":true},"25":{"endpoints":[],"vertices":[{"x":-57.5,"y":750},{"x":-57.5,"y":15}],"auto":true},"26":{"endpoints":[],"vertices":[{"x":-365,"y":-830},{"x":-365,"y":-580}],"auto":false},"27":{"endpoints":[],"vertices":[{"x":-57.5,"y":-800},{"x":-57.5,"y":15}],"auto":true}},"tablesColors":{"1":{"public.users":{"color":null}},"2":{"public.classroom":{"color":null}},"3":{"public.semester":{"color":null}},"4":{"public.semester_schedule":{"color":null}},"5":{"public.rental":{"color":null}},"6":{"public.repair":{"color":null}},"7":{"public.notice":{"color":null}},"8":{"public.notification":{"color":null}},"9":{"public.community":{"color":null}},"10":{"public.community_type":{"color":null}},"11":{"public.inquiry":{"color":null}},"12":{"public.inquiry_type":{"color":null}},"13":{"public.inquiry_inquiry_type":{"color":null}},"14":{"public.equipment":{"color":null}},"15":{"public.equipment_model":{"color":null}},"16":{"public.equipment_category":{"color":null}},"17":{"public.year_schedule":{"color":null}},"18":{"public.rental_restriction":{"color":null}},"19":{"public.inquiry_response":{"color":null}}},"grid":{"size":100,"divisions":10,"snap":5}}}